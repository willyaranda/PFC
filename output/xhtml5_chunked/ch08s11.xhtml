<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Control de presencia</title><link rel="stylesheet" type="text/css" href="docbook.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"/><link rel="prev" href="ch08s10.xhtml" title="Soporte a diferentes servidores de notificaciones"/><link rel="next" href="ch08s12.xhtml" title="Control de entrega de notificaciones"/></head><body><header><div class="navheader"><table style="width: 100%; "><tr><th style="text-align: center; " colspan="3">Control de presencia</th></tr><tr><td style="width: 20%; text-align: left; "><a accesskey="p" href="ch08s10.xhtml">Anterior</a> </td><th style="width: 60%; text-align: center; ">Capítulo 8. Futuro: v2 y siguientes</th><td style="width: 20%; text-align: right; "> <a accesskey="n" href="ch08s12.xhtml">Siguiente</a></td></tr></table><hr/></div></header><section class="section" id="idp1060592"><div class="titlepage"><div><div><h2 class="title" style="clear: both">Control de presencia</h2></div></div></div><p>
      Una de los principales argumentos de los desarrolladores de aplicaciones de mensajería instantánea es que requieren tener un control sobre si el usuario está conectado, desconectado o en estado ausente. Eso es sencillo para ellos si crean un propio socket contra sus servidores y mantienen la conexión y el estado ellos, sabiendo si se cae la conexión, usando APIs del sistema saber si la pantalla está encendida y avisar del estado…
    </p><p>
      Sin embargo, el principal problema es que los usuarios no suelen tener solo una aplicación de este tipo, si no que suelen tener varias, muchas veces dependiendo del círculo de amigos, o de donde tengan más contactos. Así pues, podría ocurrir que ese socket se multiplicara por dos, tres, o incluso 4, según el número de aplicaciones que lo requieran.
    </p><p>
      Es por esto que una de las ideas es la de proveer un API a los servicios para comprobar si alguien está conectado/desconectado o en estado ausente. Esto se podría hacer de una forma muy sencilla tal y como está montado el servidor de aplicaciones, ya que sería hacer una petición a la URL que se quiere saber si se puede entregar, se miraría el estado del nodo o de los nodos que corresponden a dicha URL y se devolvería cuál es el estado actual: conectado, desconectado, ausente o indefinido (cuando se esté bajo UDP y no haya una conexión abierta)
    </p><p>
      Esto trasladaría la carga de la red desde los terminales y la red de telefonía al servidoe de notificaciones y a Internet, porque no tienen que estar respondiendo los terminales continuamente, ni manteniendo canales abiertos, si no que es el propio servidor el que sabe si el dispositivo puede ser alcanzable o no.
    </p></section><footer><div class="navfooter"><hr/><table style="width: 100%; "><tr><td style="width: 40%; text-align: left; "><a accesskey="p" href="ch08s10.xhtml">Anterior</a> </td><td style="width: 20%; text-align: center; "><a accesskey="u" href="ch08.xhtml">Subir</a></td><td style="width: 40%; text-align: right; "> <a accesskey="n" href="ch08s12.xhtml">Siguiente</a></td></tr><tr><td style="width: 40%; text-align: left; vertical-align: top; ">Soporte a diferentes servidores de notificaciones </td><td style="width: 20%; text-align: center; "><a accesskey="h" href="index.xhtml">Inicio</a></td><td style="width: 40%; text-align: right; vertical-align: top; "> Control de entrega de notificaciones</td></tr></table></div></footer></body></html>
